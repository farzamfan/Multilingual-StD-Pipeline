---
title: "Analysis"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Abstract

Immigration is one of the most widely debated issues today. It has, therefore, also become an important issue in party competition, and radical right parties are trying to exploit the issue. This opens up many pressing questions for researchers. To answer these questions, data on the self-ascribed and unified party positions on immigration and immigrant integration issues is needed. So far, researchers have relied on expert survey data, media analysis data and ‘proxy’ categories from the Manifesto Project Dataset. However, the former two only give the mediated party position, and the latter relies on proxies that do not specifically measure immigration. The new dataset presented in this article provides researchers with party positions and saliency estimates on two issue dimensions – immigration and immigrant integration – in 14 countries and 43 elections. Deriving the data from manifestos enables the provision of parties’ unified and unfiltered immigration positions for countries and time points not covered in expert surveys and media studies, making it possible to link immigration and immigrant integration positions and saliency scores to other issue areas covered in the Manifesto Project Dataset. Well-established criteria are used to distinguish between statements on (1) immigration control and (2) immigrant integration. This allows for a more fine-grained analysis along these two dimensions. Furthermore, the dataset has been generated using the new method of crowd coding, which allows a relatively fast manual coding of political texts. Some of the advantages of crowd coding are that it is easily replicated and expanded, and, as such, presents the research community with the opportunity to amend and expand upon this coding scheme.

### Links
https://ejpr.onlinelibrary.wiley.com/doi/epdf/10.1111/1475-6765.12266
https://manifesto-project.wzb.eu/information/documents/pimpo

```{r}
library(readr)
library(dplyr)
library(ggplot2)
```

```{r}
PIM <- read_csv("Projects/VU Coding/Stance-Bias/Plm Manifest/PImPo_verbatim.csv")
```

```{r}
PIM %>% filter(selection=="1",manually_coded==FALSE) -> data

contries <- c("sweden","norway","denmank","finland","netherlands","spain","germany","austria","switzerland","ireland","usa","canada","australia","new zealand")
countryCodes <- unique(data$country)

for (i in 1:14){
  data[data$country==countryCodes[i],"countryName"] = contries[i]
}

data[data$direction=="1","stance"]<-"Pro"
data[data$direction=="0","stance"]<-"Neutral"
data[data$direction=="-1","stance"]<-"Against"
```

```{r}
ggplot(data=data, aes(x=countryName)) +
  geom_bar() +
  geom_text(stat='count', aes(label=..count..), vjust=-1)

pie(table(data$topic),labels = c("immigration","integration"))

pie( table( filter(data,topic=="1") %>% select(direction)),labels = c("against","neutral","pro"),main = "Stance against immigration")

pie( table( filter(data,topic=="2") %>% select(direction)),labels = c("against","neutral","pro"),main = "Stance against integration")

pie(table( filter(data,country=="22") %>% select(party)),labels = c("green left","socialist party","labour party","d66","VVD","christian democrat appeal","christian union","party of freedom","party of the animals","reformed political party"))

pie(table(data$stance))
```